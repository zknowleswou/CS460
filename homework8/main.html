<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <title>CS460 - HW4</title>

    <script>
        $(function () {
            $("#navImport").load(".../Images/nav.html");
        });
    </script>

    <link rel="stylesheet" href=".../Images/styles.css">

    <script>
        $(document).ready(function () {
            $("#homeLink").attr("href", ".../Images/index.html");
        });
    </script>

</head>

<div class="container accent" style="min-height: 100vh;">
    <div id="navImport"></div>
    <div class="row">
        <div class="col-lg-12">
            <h1>Homework 8</h1>
            <h5>
                <small class="text-muted">Angular6 and .NET Core</small>
            </h5>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            &nbsp;
        </div>
    </div>
    <div class="row">
        <div class="col-lg-3">
            <h6></h6>
        </div>
        <div class="col-lg-9">
            <h4>Introduction</h4>
            <p>Last post covered .NET Core and completely ignored the front end. This post is going to examine how to work with Angular6 and .NET Core together. The initial setup for this was very difficult. There are many guides out there however very few of them are for the latest version. Angular is still changing so fast that a guide written a few months ago may no longer be relevant.</p>
            <h4>NPM: A blessing and a curse</h4>
            <p>To get started with Angular6, you need NPM. To use NPM, you need nodejs. I will not write a comprehensive setup guide because that is beyond the scope of this post. By default, .NET Core wants to handle HTML page serving. However, Angular6 comes with its own development server. This server recompiles and refreshes the browser on save automatically. This saves a ton of time during development. Lets take a look at how this is setup.</p>
            <img src="././Images/Capture1.PNG" style="width:100%;"/>
            <p>Tell .NET Core to let Angular6 handle rendering</p>
            <p>Here I tell .NET that I want to let Angular handle all rendering of the front end. I could have created a totally separate project to house my Angular code but then I would have to solve the cross origin request issue. By configuring .NET Core this way Angular and my .NET Core api are working together.</p>
            <img src="././Images/Capture2.PNG" style="width:100%;"/>
            <p>Kicking off the Angular6 server via NPM</p>
            <p>The next step is to actually start the Angular6 server. Once it is started it will start watching my Angular6 files for changes. There is one part missing though. Angular6 is recompiling and rendering the front end but to where? It is rendering it in that <code>ClientApp</code> folder from the last post. I need to let .NET Core where to look for that pre-rendered code.</p>
            <img src="././Images/Capture3.PNG" style="width:100%;"/>
            <p>Inside the <code>Startup.cs</code> file</p>
            <p>That is the last link in the chain. I then was able to create a very simple publishing profile and publish the app to Azure. I don't like using the profile in a true production environment. I did it for this project though because setting up a proper CI/CD pipeline takes a considerable amount of time. </p>
            <img src="././Images/Capture4.PNG" style="width:100%;"/>
            <p>Resources in Azure</p>
            <h4>Conclusion</h4>
            <p>This was only a glimpse in the amount of work it took to get this up and running. Just getting my Angular6 project to compile the first time was difficult. Using NPM to manage all my packages took a bit of getting used it. Once I had it running smoothly it was one of the absolute best development experiences I've had. However, it is still a little unreliable. Occasionally something got stuck and I had to reboot everything. Overall I am excited for the tech to mature a bit more.</p>
        </div>
    </div>
</div>

<body>
</body>

</html>